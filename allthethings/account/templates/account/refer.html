{% extends "layouts/index.html" %}

{% block title %}{{ gettext('page.refer.title') }}{% endblock %}

{% block body %}
  {% from 'macros/copy_button.html' import copy_button %}

  <h2 class="mt-4 mb-4 text-3xl font-bold">{{ gettext('page.refer.title') }}</h2>

  <p class="mb-1">
    {{ gettext('page.refer.section1.intro') }}
    {{ gettext('page.refer.section1.list_start') }}
  </p>

  <ul class="list-inside mb-4 ml-1">
    <li class="list-disc">{{ gettext('page.refer.section1.list_1', percentage=50) }}</li>
    <li class="list-disc">{{ gettext('page.refer.section1.list_2', max=(MEMBERSHIP_MAX_BONUS_DOWNLOADS | numberformat)) }}</li>
  </ul>

  <p class="mb-1">
    {{ gettext('page.refer.section2.list_start') }}
  </p>

  <ul class="list-inside mb-4 ml-1">
    <li class="list-disc">{{ gettext('page.refer.section2.list_1', num=50) }}</li>
    <li class="list-disc">{{ gettext('page.refer.section2.list_2', num=25) }}</li>
    <li class="list-disc">{{ gettext('page.refer.section2.list_3', num=25) }}</li>
  </ul>

  <div class="mb-4 p-6 overflow-hidden bg-black/5 break-words rounded">
    {{ gettext('page.refer.linkbox.header') }}
    {% if not account_id %}
      {{ gettext('page.refer.linkbox.login', a_account=(' href="/account"' | safe)) }}
    {% elif not account_can_make_referrals %}
      {{ gettext('page.refer.linkbox.donate', a_donate=(' href="/donate"' | safe)) }}
    {% else %}
      <code class="text-sm bg-yellow-100">{{ referral_link }}</code> {{ copy_button(referral_link) }}<br>
      {{ gettext('page.refer.linkbox.remember', referral_suffix=((('<code class="text-sm bg-yellow-100">' + referral_suffix + '</code> ') | safe) + copy_button(referral_suffix) + '&nbsp;' | safe)) }}
    {% endif %}
  </p>
{% endblock %}
